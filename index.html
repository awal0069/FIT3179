<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Global Deforestation Visualization</title>
  <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.2.0"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.20.8"></script>
  <link rel="stylesheet" href="css/styles.css">
</head>
<body class="hero">
  <div class="heading-bubble">
    <h2>Earth's Environmental Wellbeing</h2>
  </div>

  <div class="passage-bubble">
    <p>Earth's environmental wellbeing is increasingly at risk due to the combined effects of deforestation, rising carbon dioxide emissions, and escalating air pollution. Large-scale forest loss reduces the planet's capacity to absorb CO₂, intensifying global warming and disrupting ecosystems. Elevated CO₂ levels from industrial activity, transport, and energy production contribute to climate change, while harmful air pollutants such as particulate matter and nitrogen oxides degrade air quality and endanger human health. These interconnected issues weaken biodiversity, disrupt weather patterns, and strain natural resources, emphasizing the urgent need for coordinated global action to promote sustainable development and restore ecological balance.</p>
  </div>

  <div class="passage-bubble">
  <p>The map below shows a general increase in deforestation between the years of 1990 and 2015. Trends indicate that as societies have grown more environmentally conscious in recent years, deforestation rates have slowed — with some countries such as Costa Rica abd Russia reportedly eliminating deforestation entirely by 2015.</p>
  </div>
  
  <div class="bubble">
    <div class="grid-container">
      <!-- Single interactive map -->
      <div class="grid-item">
        <div id="choropleth_map" class="vis-container"></div>
      </div>
    </div>
  </div>

  <!-- New line graph bubble -->
  <div class="bubble">
    <div class="grid-container">
      <div class="grid-item">
        <div id="line_graph" class="vis-container"></div>
      </div>
    </div>
  </div>

  <script type="text/javascript">
    // Function to embed both visualizations
    function embedVisualizations() {
      // Embed choropleth map
      vegaEmbed('#choropleth_map', 'https://raw.githubusercontent.com/awal0069/FIT3179/refs/heads/main/js/mapp.json', { 
        actions: false 
      }).catch(console.error);
      
      // Embed line graph
      vegaEmbed('#line_graph', 'js/interactiveForestCoverage.json', { 
        actions: false 
      }).catch(console.error);
    }

    document.addEventListener('DOMContentLoaded', embedVisualizations);
  </script>
</body>
</html>